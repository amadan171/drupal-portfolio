/* ---------- Theme tokens ---------- */
:root{
  --bg:#0b0b0f; --surface:#111117; --text:#eaeaf3; --muted:#a3a3b2;
  --brand:#7c4dff; --brand-2:#9c6cff; --ring: #b39dff;
  --border:rgba(255,255,255,.08); --max:1120px; --shadow: 0 20px 50px rgba(0,0,0,.5);
}
html.pf-light{ --bg:#ffffff; --surface:#fafafa; --text:#0c0c0f; --muted:#60636c; --brand:#6b4dff; --ring:#6b4dff; --border:rgba(0,0,0,.08); --shadow: 0 20px 40px rgba(0,0,0,.08); }

body{ background:var(--bg); color:var(--text); }

/* ---------- Layout helpers ---------- */
/* Constrained inner wrapper; sections can do full-bleed on their own */
.pf-wrap{ max-width:var(--max); margin-inline:auto; padding-inline:1.2rem; }

/* Full-bleed sections (background spans the viewport) */
.pf-nav, .pf-hero{ width:100vw; margin-inline:calc(50% - 50vw); }

/* ---------- Top bar ---------- */
.pf-nav{ position:sticky; top:0; z-index:40; background:transparent; backdrop-filter:saturate(140%) blur(16px); border-bottom:1px solid transparent; }
.pf-nav.is-scrolled{ background:rgba(0,0,0,.35); border-bottom-color:var(--border); }
.toolbar-fixed .pf-nav{ top:39px; }
.pf-nav{ margin-top:0; }
.pf-nav .pf-wrap{ display:flex; align-items:center; justify-content:space-between; height:64px; }
.pf-brand{ display:flex; gap:.75rem; align-items:center; }
.pf-avatar{ width:36px; height:36px; border-radius:999px; display:inline-grid; place-items:center; font-weight:700; color:#1b1333; background:linear-gradient(135deg,var(--brand),var(--brand-2)); }
.pf-name{ font-weight:700; line-height:1; }
.pf-role{ color:var(--muted); font-size:.85rem; line-height:1.2; }
.pf-links{ display:flex; gap:1rem; align-items:center; }
.pf-links a{ color:var(--muted); text-decoration:none; }
.pf-links a:hover,.pf-links a:focus-visible{ color:var(--text); }

/* ---------- Buttons ---------- */
.pf-btn{ background:var(--brand); color:#fff; border:none; padding:.65rem 1rem; border-radius:.8rem; font-weight:600; box-shadow:var(--shadow); }
.pf-btn--ghost{ background:transparent; color:var(--text); border:1px solid var(--border); box-shadow:none; }
.pf-btn--ghost:hover,.pf-btn--ghost:focus-visible{ border-color:var(--ring); }

/* ---------- Hero ---------- */
.pf-hero{ position:relative; overflow:hidden; border-bottom:1px solid var(--border); }
.pf-hero__inner{ display:grid; grid-template-columns:1.1fr .9fr; gap:2rem; align-items:center; min-height:52vh; padding-block:3.5rem; }
.pf-hero__title{ font-size: clamp(2.2rem, 4.8vw, 4rem); line-height:1.05; margin:0 0 1rem; }
.pf-hero__title{ color:var(--text); }
.pf-hero__lede{ color:var(--muted); max-width:52ch; margin:0 0 1.25rem; }
.pf-cta{ display:flex; gap:.75rem; flex-wrap:wrap; }
.pf-blob{ width:560px; height:560px; border-radius:50%; filter: blur(40px) saturate(120%); background: radial-gradient(35% 35% at 50% 50%, var(--brand-2) 0%, rgba(124,77,255,.1) 65%, transparent 70%); justify-self:end; }
@media (max-width: 900px){ .pf-hero__inner{ grid-template-columns:1fr; } .pf-blob{ order:-1; width:380px; height:380px; margin-inline:auto; } }

/* ---------- Sections ---------- */
.pf-section{ padding:2.5rem 0; }
.pf-h2{ font-size:1.6rem; margin:0 0 1rem; color:var(--text); font-weight:700; }
/* Force visible headings in dark mode regardless of base theme */
.pf-section h2.pf-h2,
.am-section h2.am-h2,
#skills .pf-h2, #skills .am-h2,
#work .pf-h2, #work .am-h2,
#experience .pf-h2, #experience .am-h2 {
  color: var(--text) !important;
  opacity: 1 !important;
  text-shadow: none !important;
  mix-blend-mode: normal !important;
}
/* Ensure headings inside portfolio sections are readable in both themes */
.pf-section h2, .am-section h2{ color:var(--text) !important; opacity:1; }

/* ---------- Filters ---------- */
.pf-filters{ display:flex; gap:.5rem; flex-wrap:wrap; margin: .5rem 0 1.25rem; }
.chip{ border:1px solid var(--border); color:var(--muted); background:transparent; border-radius:999px; padding:.45rem .85rem; }
.chip.is-active{ color:var(--text); border-color:var(--ring); box-shadow:0 0 0 3px color-mix(in oklab, var(--ring), transparent 60%); }
.chip:focus-visible{ outline:3px solid var(--ring); outline-offset:2px; }

/* ---------- Cards ---------- */
.pf-grid{ display:grid; grid-template-columns:repeat(3, minmax(0,1fr)); gap:1.2rem; }
@media (max-width: 1020px){ .pf-grid{ grid-template-columns:repeat(2,1fr); } }
@media (max-width: 640px){ .pf-grid{ grid-template-columns:1fr; } }
.card{ background:var(--surface); border:1px solid var(--border); border-radius:1rem; overflow:hidden; box-shadow: var(--shadow); transition: transform .18s ease; }
.card:hover{ transform: translateY(-2px); }
.card__media{ width:100%; aspect-ratio: 16/9; object-fit:cover; display:block; }
.card__body{ padding:1rem; }
.card__title{ margin:.25rem 0; font-weight:800; font-size:1.15rem; }
.card__title a{ color:inherit; text-decoration:none; }
.card__title a:hover{ text-decoration:underline; }
.card__meta{ color:var(--muted); margin:0 0 .35rem; }
.card__desc{ margin:0 0 .75rem; color:var(--text); }
.card__tags{ display:flex; gap:.35rem; flex-wrap:wrap; }
.tag{ border:1px solid var(--border); border-radius:.5rem; padding:.2rem .5rem; font-size:.8rem; color:var(--muted); }

/* ---------- Status / helpers ---------- */
.pf-status{ padding:1rem; color:var(--muted); }

/* ---- Minimal timeline styles for Experience (shared with am-* render) ---- */
.am-timeline{ list-style:none; padding:0; margin:0; border-left:2px solid var(--border); }
.am-tl__item{ position:relative; padding-left:1rem; margin:1.25rem 0; }
.am-tl__dot{ width:.7rem; height:.7rem; border-radius:50%; background:var(--brand); position:absolute; left:-.43rem; top:.35rem; }
.am-h2{ font-size:1.6rem; margin:0 0 1rem; color:var(--text); font-weight:700; }
.am-h3{ font-size:1.1rem; margin:0 0 .25rem; color:var(--text); font-weight:600; }
.am-meta-row{ color:var(--muted); font-size:.95rem; margin-bottom:.5rem; }

/* ---- Skills chips (am-* variant) ---- */
.am-tags{ display:flex; gap:.5rem; flex-wrap:wrap; padding:0; list-style:none; }
.am-tag{ display:inline-block; background:var(--chip, var(--surface)); border:1px solid var(--border); border-radius:.65rem; padding:.38rem .65rem; color:var(--text); }

/* ---- Bulleted description under each experience item ---- */
.am-desc{ margin:.5rem 0 0; padding-left:1.1rem; }
.am-desc li{ margin:.35rem 0; }

/* ---- Ensure section headings remain visible in dark mode ---- */
#skills, #experience, #work, #contact{
  color: var(--text) !important;
  opacity: 1 !important;
  mix-blend-mode: normal !important;
  filter: none !important;
  position: relative;
  z-index: 1;
}
#skills h2, #experience h2, #work h2, #contact h2,
#skills .pf-h2, #experience .pf-h2, #work .pf-h2, #contact .pf-h2,
#skills .am-h2, #experience .am-h2, #work .am-h2, #contact .am-h2{
  color: var(--text) !important;
  opacity: 1 !important;
  text-shadow: none !important;
}
